import { Column, Entity, OneToMany, CreateDateColumn, PrimaryGeneratedColumn } from 'typeorm';
import { UserApplication } from './user-application.entity';

@Entity('applications')
export class Application {
  @PrimaryGeneratedColumn()
  id: number;

  @Column({ unique: true })
  clientId: string;

  @Column({ length: 150 })
  name: string;

  @Column({ nullable: true })
  description?: string;

  @Column()
  launchUrl: string;

  @Column({ length: 9, nullable: true })
  color: string;

  @Column()
  clientSecret: string;

  @Column({ default: true })
  isConfidential: boolean;

  @Column('text', { array: true })
  redirectUris: string[];

  @Column({ nullable: true })
  clientProfile: string;

  @Column({ default: true })
  isActive: boolean;

  @OneToMany(() => UserApplication, (userApplication) => userApplication.application)
  userApplications: UserApplication[];

  @CreateDateColumn()
  createdAt: Date;
}
